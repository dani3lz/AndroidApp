<Pipe>:
    bottom_body_position: self.pos[1]
    bottom_cap_position: self.pipe_center - self.GAP_SIZE/2.0 - self.CAP_SIZE
    top_cap_position: self.pipe_center + self.GAP_SIZE/2.0
    top_body_position: self.pipe_center + self.GAP_SIZE/2.0 + self.CAP_SIZE
    id: pipe_id
    canvas.before:
        Rectangle:
            # Bottom body
            size: 170, self.bottom_cap_position - self.bottom_body_position
            pos: self.pos[0] + (218 - 170)/2.0, self.bottom_body_position
            texture: self.pipe_body_texture
            tex_coords: self.lower_tex_coords
        Rectangle:
            # Bottom cap
            size: 218, self.CAP_SIZE
            pos: self.pos[0], self.bottom_cap_position
            source: "img/pipe/end_low.png"
        Rectangle:
            # Top cap
            size: 218, self.CAP_SIZE
            pos: self.pos[0], self.top_cap_position
            source: "img/pipe/end_up.png"
        Rectangle:
            # Top body
            size: 170, self.top - self.top_body_position
            pos: self.pos[0] + (218 - 170)/2.0, self.top_body_position
            texture: self.pipe_body_texture
            tex_coords: self.top_tex_coords